{
  "_tutorial_zh": [
    "=== 武器事件脚本配置 ===",
    "此文件定义武器的特殊效果，使用 JavaScript 语法",
    "",
    "事件类型 (event)：",
    "  onHit: 攻击命中时触发",
    "  onKill: 击杀敌人时触发",
    "  whenHeld: 主手持有时触发 (每10tick)",
    "",
    "可用变量：",
    "  self: 持有武器的玩家/实体",
    "  victim: 受害者 (onHit/onKill时可用)",
    "  event: Forge事件对象 (onHit时可用)",
    "",
    "常用API：",
    "  self.heal(2) - 治疗2点血",
    "  victim.setHurtResistantTime(0) - 清空无敌帧",
    "  event.setAmount(event.getAmount() * 1.5) - 伤害倍率",
    "  self.getPotionEffect('poison') - 获取药水效果",
    "  self.addPotionEffect('speed', 200, 1) - 添加药水",
    "",
    "完整API请参考 SCRIPT_API.md"
  ],
  "_tutorial_en": [
    "=== Weapon Event Script Config ===",
    "This file defines special weapon effects using JavaScript syntax",
    "",
    "Event types (event):",
    "  onHit: Triggered when attack hits",
    "  onKill: Triggered when killing an enemy",
    "  whenHeld: Triggered while held in main hand (every 10 ticks)",
    "",
    "Available variables:",
    "  self: The player/entity holding the weapon",
    "  victim: The victim (available in onHit/onKill)",
    "  event: Forge event object (available in onHit)",
    "",
    "Common APIs:",
    "  self.heal(2) - Heal 2 HP",
    "  victim.setHurtResistantTime(0) - Clear invincibility frames",
    "  event.setAmount(event.getAmount() * 1.5) - Damage multiplier",
    "  self.getPotionEffect('poison') - Get potion effect",
    "  self.addPotionEffect('speed', 200, 1) - Add potion effect",
    "",
    "See SCRIPT_API.md for full API reference"
  ],

  "scripts": [
    {
      "id": "void_blade",
      "events": [
        {
          "_comment": "击中时清空无敌帧 / Clear i-frames on hit",
          "event": "onHit",
          "actions": ["victim.setHurtResistantTime(0)"]
        },
        {
          "_comment": "伤害提升50% / 50% damage boost",
          "event": "onHit",
          "actions": ["event.setAmount(event.getAmount() * 1.5)"]
        },
        {
          "_comment": "击杀回血 / Heal on kill",
          "event": "onKill",
          "actions": ["self.heal(2)"]
        },
        {
        "_comment": "压制高等级中毒 / Suppress high-level poison",
          "event": "whenHeld",
          "actions": [
            "var eff = self.getPotionEffect('minecraft:poison');",
            "if (eff != null && eff.getAmplifier() > 2) {",
            "  self.removePotionEffect('minecraft:poison');",
            "  self.addPotionEffect('minecraft:poison', eff.getDuration(), 2);",
            "}"
          ]
        }
      ]
    }
  ]
}
